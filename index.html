<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Logster.io Documentation by logster</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-light.css">
    <meta name="viewport" content="width=device-width">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Logster.io Documentation</h1>
        <p>Documentation for Logster.io</p>

        <p class="view"><a href="https://github.com/logster/Logster.Documentation">View the Project on GitHub <small>logster/Logster.Documentation</small></a></p>


        <ul>
          <li><a href="https://github.com/logster/Logster.Documentation/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/logster/Logster.Documentation/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/logster/Logster.Documentation">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>
<a id="welcome-to-logsterio" class="anchor" href="#welcome-to-logsterio" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Welcome to Logster.io</h1>

<h2>
<a id="getting-started" class="anchor" href="#getting-started" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Getting Started</h2>

<h3>
<a id="logster-configuration" class="anchor" href="#logster-configuration" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Logster Configuration</h3>

<p>Add the following to your app.config or web.config:</p>

<pre><code>&lt;configSections&gt;
    &lt;section name="logster" type="Logster.Client.LogsterSection, Logster.Client" /&gt;
&lt;/configSections&gt;

&lt;logster apiKey="your-api-key" application="Logster.Samples.Web" /&gt;
</code></pre>

<p>You can find your api key by viewing <a href="/Manage/Plan">your subscription</a>.</p>

<h3>
<a id="log4net" class="anchor" href="#log4net" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>log4net</h3>

<p><a href="https://www.nuget.org/packages/Logster.log4net">Install with NuGet</a></p>

<div>
    <code>PM&gt; Install-Package Logster.log4net</code>
</div>

<h4>
<a id="configuration" class="anchor" href="#configuration" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Configuration</h4>

<p>First, <a href="#toc-logster-configuration">configure logster</a>. Then, configure log4net.</p>

<pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;configuration&gt;
  &lt;log4net&gt;
    &lt;appender name="logster" type="Logster.Client.log4net.LogsterAppender, Logster.Client.log4net"&gt;
      &lt;layout type="log4net.Layout.PatternLayout"&gt;
        &lt;category&gt;Log Category&lt;/category&gt;
        &lt;conversionPattern value="%date [%thread] %-5level %logger [%ndc] &amp;lt;%property{auth}&amp;gt; - %message%newline" /&gt;
      &lt;/layout&gt;
    &lt;/appender&gt;
    &lt;root&gt;
      &lt;appender-ref ref="logster" /&gt;
    &lt;/root&gt;
  &lt;/log4net&gt;
&lt;/configuration&gt;
</code></pre>

<p>Async configuration with <a href="https://github.com/cjbhaines/Log4Net.Async">Log4Net.Async</a></p>

<pre><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;configuration&gt;
  &lt;log4net&gt;
    &lt;appender name="logster" type="Logster.Client.log4net.LogsterAppender, Logster.Client.log4net"&gt;
      &lt;layout type="log4net.Layout.PatternLayout"&gt;
        &lt;category&gt;Log Category&lt;/category&gt;
        &lt;conversionPattern value="%date [%thread] %-5level %logger [%ndc] &amp;lt;%property{auth}&amp;gt; - %message%newline" /&gt;
      &lt;/layout&gt;
    &lt;/appender&gt;
    &lt;appender name="asyncForwarder" type="Log4Net.Async.AsyncForwardingAppender,Log4Net.Async"&gt;
      &lt;appender-ref ref="logster" /&gt;
    &lt;/appender&gt;
    &lt;root&gt;
      &lt;appender-ref ref="asyncForwarder" /&gt;
    &lt;/root&gt;
  &lt;/log4net&gt;
&lt;/configuration&gt;
</code></pre>

<h4>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Usage</h4>

<p>See the <a href="https://github.com/logster/Logster.Samples/tree/master/Logster.Samples.Console">console sample</a> for a complete example. </p>

<pre><code>private static void Main(string[] args)
{
    // load the log4net configuration in app.config
    XmlConfigurator.Configure();

    ILog log = LogManager.GetLogger(typeof (Program));

    log.Info("Starting up ...");

    for (var i = 0; i &lt; 10; i++)
    {
        log.Info(i + "... ");
    }

    log.Info("Done.");

    // call shutdown to write any pending events in the async queue
    LogManager.Shutdown();
}
</code></pre>

<h3>
<a id="nlog" class="anchor" href="#nlog" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>NLog</h3>

<p><a href="https://www.nuget.org/packages/Logster.NLog">Install with NuGet</a></p>

<div>
    <code>PM&gt; Install-Package Logster.NLog</code>
</div>

<h4>
<a id="configuration-1" class="anchor" href="#configuration-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Configuration</h4>

<p>First, <a href="#toc-logster-configuration">configure logster</a>. Then, configure NLog.</p>

<pre><code>&lt;?xml version="1.0" encoding="utf-8" ?&gt;
&lt;nlog throwExceptions="false" internalLogLevel="Off"&gt;
    &lt;extensions&gt;
        &lt;add assembly="Logster.Client.NLog" /&gt;
    &lt;/extensions&gt;
    &lt;targets&gt;
        &lt;target name="logster" type="Logster" category="Log Category" /&gt;
    &lt;/targets&gt;
    &lt;rules&gt;
        &lt;logger name="*" minlevel="Trace" writeTo="logster" /&gt;
    &lt;/rules&gt;
&lt;/nlog&gt;
</code></pre>

<p>Async configuration with <a href="https://github.com/nlog/NLog/wiki/AsyncWrapper-target">AsyncWrapper</a></p>

<pre><code>&lt;?xml version="1.0" encoding="utf-8" ?&gt;
&lt;nlog throwExceptions="false" internalLogLevel="Off"&gt;
  &lt;extensions&gt;
    &lt;add assembly="Logster.Client.NLog"/&gt;
  &lt;/extensions&gt;
  &lt;targets&gt;
    &lt;target xsi:type="AsyncWrapper" name="asyncWrapper" overflowAction="Block"&gt;
      &lt;target name="logster" xsi:type="Logster" category="Log Category" /&gt;
    &lt;/target&gt;
  &lt;/targets&gt;
  &lt;rules&gt;
    &lt;logger name="*" minlevel="Trace" writeTo="logster"/&gt;
  &lt;/rules&gt;
&lt;/nlog&gt;
</code></pre>

<h4>
<a id="usage-1" class="anchor" href="#usage-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Usage</h4>

<p>See the <a href="https://github.com/logster/Logster.Samples/tree/master/Logster.Samples.Web">web sample</a> for a complete example. </p>

<pre><code>protected void Application_Error(object sender, EventArgs e)
{
    Exception ex = Server.GetLastError();
    if (ex != null)
    {
        var log = LogManager.GetLogger("Global");
        log.Error(ex);
    }
}
</code></pre>

<h3>
<a id="web" class="anchor" href="#web" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Web</h3>

<p><a href="https://www.nuget.org/packages/Logster.Web">Install with NuGet</a></p>

<div>
    <code>PM&gt; Install-Package Logster.Web</code>
</div>

<h4>
<a id="configuration-2" class="anchor" href="#configuration-2" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Configuration</h4>

<p><a href="#toc-logster-configuration">Configure logster</a>. No additional configuration is necessary.</p>

<h4>
<a id="usage-2" class="anchor" href="#usage-2" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Usage</h4>

<p>See the <a href="https://github.com/logster/Logster.Samples/tree/master/Logster.Samples.WebApi">web api sample</a> for a complete example.</p>

<pre><code>private void Log(string text, string user, Uri url)
{
    var message = new LogMessage
                        {
                            Application = GetType().Assembly.GetName().Name,
                            Category = url.ToString(),
                            Message = text,
                            Severity = Severity.Trace,
                            User = user
                        };

    var log = new LogsterWebLog();
    log.LogInBackground(message);
}
</code></pre>

<h2>
<a id="documentation" class="anchor" href="#documentation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Documentation</h2>

<h3>
<a id="client-documentation" class="anchor" href="#client-documentation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Client Documentation</h3>

<ul>
<li><a href="/Docs/Api/N_Logster_Client_log4net">log4net</a></li>
<li><a href="/Docs/Api/N_Logster_Client_NLog">NLog</a></li>
<li><a href="/Docs/Api/N_Logster_Client_Web">Web</a></li>
<li>
<a href="https://github.com/logster/Logster.Samples">Samples</a> - sample applications for console, web, api, and more.</li>
</ul>

<h3>
<a id="api-documentation" class="anchor" href="#api-documentation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>API Documentation</h3>

<p>Build your own client with our RESTful API. Simply POST your <a href="/Docs/Api/T_Logster_Core_ILogMessage">message</a> to <strong><a href="https://api.logster.io/api/Log">https://api.logster.io/api/Log</a></strong> as JSON or XML and include your api key in the <strong>ApiKey</strong> header.</p>

<p>Here's an example request made with Postman:</p>

<pre><code>POST https://api.logster.io/api/Log HTTP/1.1
Host: api.logster.io
Connection: keep-alive
Content-Length: 399
Cache-Control: no-cache
Origin: chrome-extension://fhbjgbiflinjbdggehcddcbncdddomop
ApiKey: &lt;your api key&gt;
Content-Type: application/json
User-Agent: Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.111 Safari/537.36
Postman-Token: &lt;token&gt;
Accept: */*
Accept-Encoding: gzip, deflate
Accept-Language: en-US,en;q=0.8

{
  "Exception": "System.ApplicationException: An unhandled widget exception occurred.",
  "Message": "Uh-oh, something happened.",
  "StackTrace": "   at Logster.Web.Api.Areas.HelpPage.App_Start.HelpPageConfig.Register(HttpConfiguration config) in Program.cs:line 42\r\n",
  "Severity": 4,
  "Category": "Widget Designer",
  "Application": "Your Awesome Application",
  "User": "john-doe"
}
</code></pre>

<p>If your POST was successful, the response will have a status code of 200 and will contain the MessageId in the body.</p>

<pre><code>HTTP/1.1 200 OK
Cache-Control: no-cache
Pragma: no-cache
Content-Type: application/json; charset=utf-8
Expires: -1
Server: Microsoft-IIS/10.0
X-AspNet-Version: 4.0.30319
X-Powered-By: ASP.NET
Date: Thu, 21 Jan 2016 03:49:47 GMT
Content-Length: 48

{"MessageId":"7892"}
</code></pre>

<p>If something is missing or incorrect in the request, you'll get an error response. Note the 400 status code and ModelState in the body.</p>

<pre><code>HTTP/1.1 400 Bad Request
Cache-Control: no-cache
Pragma: no-cache
Content-Type: application/json; charset=utf-8
Expires: -1
Server: Microsoft-IIS/10.0
X-AspNet-Version: 4.0.30319
X-Powered-By: ASP.NET
Date: Thu, 21 Jan 2016 03:57:04 GMT
Content-Length: 172

{
    "Message":"The request is invalid.",
    "ModelState":
    {
        "message.Message":["The Message field is required."],
        "message.Severity":["The field Severity must be between 0 and 6."]
    }
}
</code></pre>

<p>See the <a href="https://api.logster.io/Help">API Help Page</a> for more information.</p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/logster">logster</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>
